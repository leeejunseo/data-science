# 🚀 6DOF 미사일 궤적 시뮬레이션

## 📦 프로젝트 파일 구조

### 핵심 실행 파일
1. **main_fixed.py** ⭐ - 6DOF 시뮬레이션 개선 버전 (실시간 시각화 문제 해결)
2. **main_6dof.py** - 6DOF 시뮬레이션 기본 버전
3. **config_6dof.py** - 6DOF 설정 파일 (관성 모멘트, 공력 계수, 미사일 파라미터 포함)

### 테스트 및 문서
4. **compare_3dof_6dof.py** - 6DOF 시뮬레이션 테스트 스크립트
5. **CONVERSION_GUIDE.md** - 3DOF에서 6DOF로 전환하는 상세 가이드
6. **QUICK_START.txt** - 빠른 실행 가이드 (상황별 명령어)

---

## ⚡ 빠른 시작

### 방법 1: 개선된 버전 실행 ⭐ 권장

```bash
# 실시간 시각화 문제 해결 버전
python main_fixed.py
```

**실행 모드 선택:**
- **모드 1 (기본)**: 실시간 3D 궤적 애니메이션
- **모드 2**: 상세 결과 그래프 (12개 서브플롯)

### 방법 2: 기본 버전 실행

```bash
# 6DOF 기본 버전
python main_6dof.py
```

### 방법 3: 테스트 실행

```bash
# 6DOF 시뮬레이션 테스트
python compare_3dof_6dof.py
```

---

## 🔍 주요 차이점

### 상태 벡터

| 항목 | 3DOF | 6DOF |
|------|------|------|
| **차원** | 8차원 | **14차원** |
| **병진 운동** | V, γ, ψ, x, y, h | V, γ, ψ, x, y, h |
| **회전 운동** | ❌ | **✅ φ, θ, ψ, p, q, r** |
| **질량** | W, M | M, fuel |

### 새로운 6DOF 기능 ✨

1. **🔄 회전 운동 시뮬레이션**
   - 롤각 (φ), 피치각 (θ), 요각 (ψ)
   - 롤 각속도 (p), 피치 각속도 (q), 요 각속도 (r)

2. **🌪️ 공력 모멘트 계산**
   - 롤 모멘트 (L_aero)
   - 피치 모멘트 (M_aero)
   - 요 모멘트 (N_aero)

3. **⚖️ 관성 모멘트 고려**
   - Ixx, Iyy, Izz (kg·m²)

4. **📊 향상된 시각화 (main_fixed.py)**
   - 실시간 3D 궤적 애니메이션 (모드 1)
   - 12개 서브플롯 상세 분석 (모드 2)
     - 3D 궤적, 속도/고도/사거리, 비행경로각/방위각
     - 오일러 각도 (φ, θ, ψ), 각속도 (p, q, r)
     - 받음각/측면 받음각, 항력계수, 추력, 질량 변화

5. **🔧 개선사항 (main_fixed.py)**
   - 실시간 시각화 78km 멈춤 문제 해결
   - 매끄러운 궤적 애니메이션
   - 사용자 선택 가능한 실행 모드

---

## 🎯 실행 예시

### 개선 버전 실행 (main_fixed.py)

```bash
python main_fixed.py
```

**모드 선택 프롬프트:**
```
실행 모드를 선택하세요:
1. 실시간 3D 궤적 시뮬레이션 - 미사일의 전체 비행 궤적을 3D 애니메이션으로 시각화합니다.
2. 상세 결과 그래프 - 시뮬레이션 결과 데이터를 바탕으로 다양한 물리량의 변화를 분석 그래프로 제공합니다.

모드 선택 (1-2, 기본값: 1): 
```

**모드 2 선택 시 출력:**
```
============================================================
6DOF 시뮬레이션 결과 요약
============================================================
최종 사거리: 332.29 km
최대 고도: 735.68 km
최종 속도: 1245.67 m/s
비행 시간: 300.00 s
최종 롤각: 0.00°
최종 피치각: 16.55°
최종 요각: 90.00°
============================================================
```

### 테스트 스크립트 실행

```bash
python compare_3dof_6dof.py
```

**예상 출력:**
```
======================================================================
🚀 6DOF 미사일 시뮬레이션 테스트
======================================================================
✅ 6DOF 모듈 로드 성공
   - 상태 벡터 차원: 14
   - 미사일 종류: ['SCUD-B']

📊 SCUD-B 6DOF 시뮬레이션 시작...
   - 시뮬레이션 실행 중...
✅ 6DOF 시뮬레이션 성공!

📈 6DOF 결과 요약:
   - 최종 사거리: 332.29 km
   - 최대 고도: 735.68 km
   - 비행 시간: 300.00 s
   - 최종 롤각: 0.00°
   - 최종 피치각: 16.55°
```

---

## 📚 자세한 내용

### 실행 파일
- **main_fixed.py** ⭐ - 6DOF 시뮬레이션 개선 버전
  - 실시간 3D 궤적 애니메이션 (모드 1)
  - 12개 서브플롯 상세 분석 (모드 2)
  - 실시간 시각화 문제 해결
  
- **main_6dof.py** - 6DOF 시뮬레이션 기본 버전
  - 6DOF 운동 방정식 구현
  - 기본 시각화 기능

### 설정 및 문서
- **config_6dof.py** - 6DOF 설정 파일
  - 관성 모멘트 (Ixx, Iyy, Izz)
  - 공력 모멘트 계수 (Cl, Cm, Cn)
  - 미사일 파라미터 (SCUD-B)
  - 대기 모델 및 물리 상수

- **CONVERSION_GUIDE.md** - 3DOF → 6DOF 전환 상세 가이드
- **QUICK_START.txt** - 빠른 실행 가이드 (상황별 명령어)
- **compare_3dof_6dof.py** - 6DOF 테스트 스크립트

---

## 🔧 미사일별 설정

### SCUD-B 예시
```python
# 관성 모멘트 (kg·m²)
inertia_xx: 58729.12  # 피치/요 관성
inertia_yy: 58729.12
inertia_zz: 567.25    # 롤 관성

# 공력 모멘트 계수
cl_alpha: 0.5        # 양력 기울기
cm_alpha: -0.15      # 피칭 모멘트 (정적 안정)
cn_beta: -0.1        # 요잉 모멘트
cl_p: -0.02          # 롤 댐핑
cm_q: -0.05          # 피치 댐핑
cn_r: -0.05          # 요 댐핑
```

---

## ✅ 검증 완료

### 기본 기능
- ✅ 6DOF 모듈 로드 성공
- ✅ 14차원 상태 벡터 시뮬레이션
- ✅ 회전 운동 (롤, 피치, 요) 구현
- ✅ 공력 모멘트 계산

### 시각화 및 개선사항
- ✅ 실시간 3D 궤적 애니메이션 (main_fixed.py)
- ✅ 12개 서브플롯 상세 분석 그래프
- ✅ 실시간 시각화 78km 멈춤 문제 해결
- ✅ 매끄러운 궤적 표시 및 사용자 모드 선택

### 테스트
- ✅ SCUD-B 미사일 시뮬레이션 성공
- ✅ 사거리 ~332km, 최대 고도 ~735km 달성
- ✅ 비행 시간 300초 시뮬레이션 안정성 확인

---

## 💡 사용 팁

1. **권장 실행 파일**: `main_fixed.py` 사용 권장 (실시간 시각화 문제 해결)
2. **모드 선택**:
   - 빠른 시각 확인: 모드 1 (실시간 3D 애니메이션)
   - 상세 분석: 모드 2 (12개 그래프)
3. **결과 저장**: 모드 2 실행 시 `results_6dof/` 폴더에 PNG 파일 자동 저장
4. **테스트 먼저**: 처음 실행 시 `compare_3dof_6dof.py`로 정상 작동 확인
5. **파라미터 조정**: `config_6dof.py`에서 미사일 설정 변경 가능

---

## 🎓 핵심 요약

### 추천 실행 명령어

```bash
# ⭐ 최우선 추천: 개선된 버전 (실시간 시각화 문제 해결)
python main_fixed.py

# 📊 테스트 실행
python compare_3dof_6dof.py

# 📌 기본 버전
python main_6dof.py
```

### 주요 특징

| 항목 | 내용 |
|------|------|
| **상태 벡터** | 14차원 (병진 6개 + 회전 6개 + 질량 2개) |
| **회전 운동** | 롤(φ), 피치(θ), 요(ψ) + 각속도(p,q,r) |
| **시각화** | 실시간 3D 애니메이션 + 12개 상세 그래프 |
| **미사일** | SCUD-B (관성 모멘트 및 공력 계수 포함) |
| **성능** | 사거리 ~332km, 최대고도 ~735km |

---

## 📞 문제 해결

### 자주 묻는 질문

**Q1: 어떤 파일을 실행해야 하나요?**
- A: `main_fixed.py`를 실행하세요 (개선된 버전, 권장)

**Q2: 실시간 시각화가 멈추는 문제가 있어요**
- A: `main_fixed.py`를 사용하면 해결됩니다

**Q3: 결과 그래프는 어디에 저장되나요?**
- A: `results_6dof/` 폴더에 자동 저장됩니다 (모드 2 실행 시)

**Q4: 미사일 파라미터를 변경하고 싶어요**
- A: `config_6dof.py` 파일을 수정하세요

### 추가 참고 자료

1. **QUICK_START.txt** - 빠른 시작 가이드 (상황별 명령어)
2. **CONVERSION_GUIDE.md** - 3DOF → 6DOF 전환 상세 가이드
3. **compare_3dof_6dof.py** - 시뮬레이션 테스트 및 검증

---

## 🎯 프로젝트 현황

✅ **완료된 기능**
- 6DOF 운동 방정식 구현
- 회전 운동 (롤, 피치, 요) 시뮬레이션
- 공력 모멘트 계산
- 실시간 3D 시각화 (문제 해결 완료)
- 12개 서브플롯 상세 분석 그래프
- SCUD-B 미사일 시뮬레이션 검증

🚀 **사용 준비 완료!**

---

**🎉 6DOF 미사일 궤적 시뮬레이션이 준비되었습니다!** 🚀

시작하려면: `python main_fixed.py`
